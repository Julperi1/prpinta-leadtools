<script setup>
import { ref, provide } from 'vue';
import BottomSheet from '@/components/sitebot/BottomSheet.vue';
import SmallSheetContent from '@/components/sitebot/content/SmallSheetContent.vue';
import FullSheetContent from '@/components/sitebot/content/FullSheetContent.vue';

const image = ref('data:image/jpeg;base64,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');
const minimized = ref(false);
const small = ref(true);
const full = ref(false);

function closeFull() {
  minimized.value = false;
  full.value = false;
  small.value = true;
}

function closeSmall() {
  small.value = false;
  full.value = false;
  minimized.value = true;
}

function clickSmall() {
  small.value = false;
  minimized.value = false;
  full.value = true;
}

function clickMinimized() {
  minimized.value = false;
  small.value = false;
  full.value = true;
}

provide('image', image);
provide('clickSmall', clickSmall);
provide('closeFull', closeFull);
provide('closeSmall', closeSmall);
</script>

<template>
  <!-- Bottom Sheets -->
  <BottomSheet v-model="minimized" @click="clickMinimized">
    <v-card class="rounded-t-lg cursor-grab">
      <v-sheet rounded height="7" class="mt-2 mx-3 mb-4 bg-grey-lighten-2"></v-sheet>
    </v-card>
  </BottomSheet>

  <!-- Small Bottom Sheet -->
  <BottomSheet v-model="small" class="cursor-pointer">
    <SmallSheetContent />
  </BottomSheet>

  <!-- Full Bottom Sheet -->
  <BottomSheet v-model="full">
    <FullSheetContent />
  </BottomSheet>
</template>

<style>
.v-bottom-sheet>.v-bottom-sheet__content.v-overlay__content {
  border-radius: 10px 10px 0 0 !important;
}

.v-bottom-sheet>.v-bottom-sheet__content.v-overlay__content {
  left: initial !important;
}
</style>
